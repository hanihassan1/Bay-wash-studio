{"changed":true,"filter":false,"title":"run.py","tooltip":"/run.py","value":"import os\nfrom flask import Flask,render_template, request, redirect,flash, jsonify, url_for\nimport json\nfrom flask_mail import Mail, Message\nimport pymysql\n\n\napp = Flask(__name__)\n\nconnection = pymysql.connect(host='mydatabase.cccssd5sqciz.ca-central-1.rds.amazonaws.com',\n                            user=os.environ.get('user'),\n                            password=os.environ.get('pass'),\n                            db='SALON',\n                            )\n                            \n# def create_db():\n#     with connection.cursor() as cursor:\n#             sql_book = \"\"\"DROP TABLE IF EXISTS `BOOKINGS`;\"\"\"\n#             cursor.execute(sql_book)\n#             connection.commit()\n            \n#             sql_cust = \"\"\"DROP TABLE IF EXISTS `CUSTOMERS`;\"\"\"\n#             cursor.execute(sql_cust)\n#             connection.commit()\n            \n#             sql_emp = \"\"\"DROP TABLE IF EXISTS `EMPLOYEE`;\"\"\"\n#             cursor.execute(sql_emp)\n#             connection.commit()\n            \n#             sql_ser = \"\"\"DROP TABLE IF EXISTS `SERVICES`;\"\"\"\n#             cursor.execute(sql_ser)\n#             connection.commit()\n            \n#             sql = \"\"\"CREATE TABLE `BOOKINGS` (\n#   `BOOKING_ID` int(11) NOT NULL AUTO_INCREMENT,\n#   `SERVICE_ID` int(11) DEFAULT NULL,\n#   `CUSTOMER_ID` int(11) DEFAULT NULL,\n#   `DATE` varchar(12) DEFAULT NULL,\n#   `TIME` varchar(12) DEFAULT NULL,\n#   PRIMARY KEY (`BOOKING_ID`)\n# ) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=latin1;\"\"\"\n#             cursor.execute(sql)\n#             connection.commit()\n            \n#             sql1 = \"\"\"CREATE TABLE `CUSTOMERS` (\n#   `CUSTOMER_ID` int(11) NOT NULL AUTO_INCREMENT,\n#   `CUSTOMER_NAME` varchar(30) DEFAULT NULL,\n#   `CUSTOMER_EMAIL` varchar(50) DEFAULT NULL,\n#   `CUSTOMER_TELEPHONE` varchar(15) DEFAULT NULL,\n#   PRIMARY KEY (`CUSTOMER_ID`)\n# ) ENGINE=InnoDB AUTO_INCREMENT=26 DEFAULT CHARSET=latin1;\"\"\"\n#             cursor.execute(sql1)\n#             connection.commit()\n            \n#             sql2 = \"\"\"CREATE TABLE `EMPLOYEE` (\n#   `EMPLOYEE_ID` int(11) NOT NULL AUTO_INCREMENT,\n#   `EMPLOYEE_NAME` varchar(30) DEFAULT NULL,\n#   `YEARS_OF_EXPERIENCE` int(11) DEFAULT NULL,\n#   `EMPLOYEE_TELEPHONE` int(11) DEFAULT NULL,\n#   `EMPLOYEE_ADDRESS` varchar(100) DEFAULT NULL,\n#   `EMPLOYEE_EMAIL` varchar(50) DEFAULT NULL,\n#   `SERVICE_ID` int(11) DEFAULT NULL,\n#   PRIMARY KEY (`EMPLOYEE_ID`)\n# ) ENGINE=InnoDB DEFAULT CHARSET=latin1;\"\"\"\n#             cursor.execute(sql2)\n#             connection.commit()\n            \n#             sql3 = \"\"\"CREATE TABLE `SERVICES` (\n#   `SERVICE_ID` int(11) NOT NULL AUTO_INCREMENT,\n#   `SERVICE_NAME` varchar(50) DEFAULT NULL,\n#   `DESCRIPTION` varchar(300) DEFAULT NULL,\n#   PRIMARY KEY (`SERVICE_ID`)\n# ) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=latin1;\"\"\"\n#             cursor.execute(sql3)\n#             connection.commit()\n            \n#             sql4 = \"\"\"INSERT INTO `SERVICES` VALUES (1,'HAIRCUT',\"Women's Haircut,Men's Haircut\"),(2,'COLOR',\"Dye L'Or√©al,Dye Davines,Dye GolDWell,Dye Oriental\"),(3,'HAIRSTYLE',\"Shampoo AND Blow Dry,Formal Styling, bridal and wedding, updo style\"),\n#             (4,'HAIR EXTENSION',\"Micro Bead hair extensions\");\"\"\"\n#             cursor.execute(sql4)\n#             connection.commit()\n            \n# create_db()\n\napp.secret_key = \"its_secure\"\n\n\napp.config['MAIL_SERVER']= 'smtp.gmail.com'\napp.config['MAIL_PORT'] = 465\napp.config['MAIL_USERNAME'] = os.environ.get('MAIL_USERNAME')\napp.config['MAIL_PASSWORD'] = os.environ.get('MAIL_PASSWORD')\napp.config['MAIL_USE_TLS'] = False\napp.config['MAIL_USE_SSL'] = True\napp.config['MAIL_DEFAULT_SENDER'] = os.environ.get('MAIL_USERNAME')\nmail = Mail(app)\n\n# contact page - booking form\n\n\n@app.route('/contact',methods=[\"GET\", \"POST\"])\ndef contact():\n    if request.method==\"POST\":\n        print(request.form)\n        username = request.form['first-name'] + \" \" + request.form['last-name']\n        add_user(username, request.form['phone'], request.form['email'])\n        last_added_user_id = get_last_user_id()\n        print(last_added_user_id, \"last_added_user_id\", request.form['time'])\n        add_booking(request.form['date'], request.form['service'],request.form['time'],last_added_user_id)\n        send_mail(username, request.form['email'])\n        send_mail_employee(username, request.form['date'], request.form['service'],request.form['time'],\n        request.form['phone'])\n        flash(\" {}! Your booking is confirmed. Check your email for your booking. See you on {}\".format(request.form['first-name'],request.form['date']))\n        return redirect(url_for('contact'))\n     \n    return render_template(\"contact.html\", title = \"Contact\")\n\n# email-confirmation of booking To user\n\ndef send_mail(username, email):\n    user_mail_list = []\n    user_mail_list.append(email)\n    print(user_mail_list,\"user_mail_list\")\n    msg = Message(subject=\"Hello, {}\".format(username),recipients=user_mail_list)\n    msg.html=\"\"\"<img src=\"cid:%s\"><p><b style=\"color:gold\">You're booked!</b></p><p>Your appointment is on: <b><i>{}</i></b>.</p> <p>Your Time is:<b><i>{}</i></b>.</p>\"\"\".format(request.form['date'],\n    request.form['time'])\n    mail.send(msg)\n    \n# email-to employee of user booking\n        \ndef send_mail_employee(username,date, service,time,phone):\n    msg = Message(subject=\"New Booking\",recipients=[\"baywashstudio@gmail.com\"])\n    msg.body=\"New booking has just arrived.\\n\\n{} has booked an appointment on {} at {}.\".format(username,\n    request.form['date'], request.form['time'])\n    mail.send(msg)\n        \n@app.route('/')\ndef index():\n     return render_template(\"index.html\", title = \"Home\")\n     \n     \n@app.route('/portfolio')\ndef portfolio():\n     return render_template(\"portfolio.html\", title = \"Gallery\")\n     \n@app.route('/service')\ndef service():\n     return render_template(\"service.html\", title = \"Services\")\n    \n# queries to get: user / last user id and booking information\ndef add_user(username, phone, email):\n    try:\n        with connection.cursor() as cursor:\n            sql = \"\"\"INSERT INTO CUSTOMERS (CUSTOMER_NAME, CUSTOMER_TELEPHONE, \n            CUSTOMER_EMAIL) VALUES ('{}', '{}', '{}');\"\"\".format(username, phone, email)\n            cursor.execute(sql)\n            connection.commit()\n        cursor.close()\n    finally:\n        print(\"ok\")\n      \n     \ndef get_last_user_id():\n    with connection.cursor(pymysql.cursors.DictCursor) as cursor:\n          sql = \"\"\" SELECT MAX(CUSTOMER_ID) FROM CUSTOMERS;\"\"\"\n          cursor.execute(sql)\n          result = cursor.fetchall()\n    cursor.close()\n    return result[0]['MAX(CUSTOMER_ID)']\n\n    \ndef add_booking(date, service_id, time,customer_id):\n  try:\n        print(time, \"time is time\", date, service_id, time,customer_id)\n        with connection.cursor() as cursor:\n            sql = \"\"\"INSERT INTO BOOKINGS (DATE, SERVICE_ID, TIME,\n            CUSTOMER_ID) VALUES ('{}', {}, '{}', {});\"\"\".format(date,service_id,\n            time,customer_id)\n            cursor.execute(sql)\n            connection.commit()\n        cursor.close()\n  finally:\n           \n            print(\"close it\")\n\n\n\n\n\nif __name__ == '__main__':\n    app.run(host=os.environ.get('IP'),\n    port=int(os.environ.get('PORT')),\n    debug=False)\n    \n","undoManager":{"mark":99,"position":100,"stack":[[{"start":{"row":196,"column":0},"end":{"row":196,"column":2},"action":"insert","lines":["# "],"id":3830},{"start":{"row":197,"column":0},"end":{"row":197,"column":2},"action":"insert","lines":["# "]},{"start":{"row":198,"column":0},"end":{"row":198,"column":2},"action":"insert","lines":["# "]},{"start":{"row":199,"column":0},"end":{"row":199,"column":2},"action":"insert","lines":["# "]},{"start":{"row":200,"column":0},"end":{"row":200,"column":2},"action":"insert","lines":["# "]}],[{"start":{"row":196,"column":0},"end":{"row":196,"column":2},"action":"remove","lines":["# "],"id":3831},{"start":{"row":197,"column":0},"end":{"row":197,"column":2},"action":"remove","lines":["# "]},{"start":{"row":198,"column":0},"end":{"row":198,"column":2},"action":"remove","lines":["# "]},{"start":{"row":199,"column":0},"end":{"row":199,"column":2},"action":"remove","lines":["# "]},{"start":{"row":200,"column":0},"end":{"row":200,"column":2},"action":"remove","lines":["# "]}],[{"start":{"row":196,"column":23},"end":{"row":196,"column":49},"action":"remove","lines":["pymysql.cursors.DictCursor"],"id":3832}],[{"start":{"row":197,"column":20},"end":{"row":197,"column":21},"action":"remove","lines":[" "],"id":3833},{"start":{"row":197,"column":19},"end":{"row":197,"column":20},"action":"remove","lines":[" "]}],[{"start":{"row":199,"column":9},"end":{"row":199,"column":36},"action":"remove","lines":[" result = cursor.fetchall()"],"id":3834}],[{"start":{"row":198,"column":29},"end":{"row":199,"column":0},"action":"insert","lines":["",""],"id":3835},{"start":{"row":199,"column":0},"end":{"row":199,"column":10},"action":"insert","lines":["          "]},{"start":{"row":199,"column":10},"end":{"row":199,"column":11},"action":"insert","lines":["C"]},{"start":{"row":199,"column":11},"end":{"row":199,"column":12},"action":"insert","lines":["O"]},{"start":{"row":199,"column":12},"end":{"row":199,"column":13},"action":"insert","lines":["N"]},{"start":{"row":199,"column":13},"end":{"row":199,"column":14},"action":"insert","lines":["N"]},{"start":{"row":199,"column":14},"end":{"row":199,"column":15},"action":"insert","lines":["E"]},{"start":{"row":199,"column":15},"end":{"row":199,"column":16},"action":"insert","lines":["C"]}],[{"start":{"row":199,"column":15},"end":{"row":199,"column":16},"action":"remove","lines":["C"],"id":3836},{"start":{"row":199,"column":14},"end":{"row":199,"column":15},"action":"remove","lines":["E"]},{"start":{"row":199,"column":13},"end":{"row":199,"column":14},"action":"remove","lines":["N"]},{"start":{"row":199,"column":12},"end":{"row":199,"column":13},"action":"remove","lines":["N"]},{"start":{"row":199,"column":11},"end":{"row":199,"column":12},"action":"remove","lines":["O"]}],[{"start":{"row":199,"column":11},"end":{"row":199,"column":12},"action":"insert","lines":["c"],"id":3837}],[{"start":{"row":199,"column":11},"end":{"row":199,"column":12},"action":"remove","lines":["c"],"id":3838},{"start":{"row":199,"column":10},"end":{"row":199,"column":11},"action":"remove","lines":["C"]}],[{"start":{"row":199,"column":10},"end":{"row":199,"column":11},"action":"insert","lines":["c"],"id":3839},{"start":{"row":199,"column":11},"end":{"row":199,"column":12},"action":"insert","lines":["o"]},{"start":{"row":199,"column":12},"end":{"row":199,"column":13},"action":"insert","lines":["n"]},{"start":{"row":199,"column":13},"end":{"row":199,"column":14},"action":"insert","lines":["n"]},{"start":{"row":199,"column":14},"end":{"row":199,"column":15},"action":"insert","lines":["e"]},{"start":{"row":199,"column":15},"end":{"row":199,"column":16},"action":"insert","lines":["c"]},{"start":{"row":199,"column":16},"end":{"row":199,"column":17},"action":"insert","lines":["t"]},{"start":{"row":199,"column":17},"end":{"row":199,"column":18},"action":"insert","lines":["i"]},{"start":{"row":199,"column":18},"end":{"row":199,"column":19},"action":"insert","lines":["o"]},{"start":{"row":199,"column":19},"end":{"row":199,"column":20},"action":"insert","lines":["n"]},{"start":{"row":199,"column":20},"end":{"row":199,"column":21},"action":"insert","lines":["."]}],[{"start":{"row":199,"column":21},"end":{"row":199,"column":22},"action":"insert","lines":["c"],"id":3840},{"start":{"row":199,"column":22},"end":{"row":199,"column":23},"action":"insert","lines":["o"]},{"start":{"row":199,"column":23},"end":{"row":199,"column":24},"action":"insert","lines":["m"]},{"start":{"row":199,"column":24},"end":{"row":199,"column":25},"action":"insert","lines":["m"]},{"start":{"row":199,"column":25},"end":{"row":199,"column":26},"action":"insert","lines":["i"]},{"start":{"row":199,"column":26},"end":{"row":199,"column":27},"action":"insert","lines":["t"]}],[{"start":{"row":199,"column":27},"end":{"row":199,"column":29},"action":"insert","lines":["()"],"id":3841}],[{"start":{"row":196,"column":0},"end":{"row":203,"column":24},"action":"remove","lines":["with connection.cursor() as cursor:","          sql = \"\"\"DELETE FROM BOOKINGS;\"\"\"","          cursor.execute(sql)","          connection.commit()","         ","cursor.close()","","# DELETE FROM employees;"],"id":3842}],[{"start":{"row":194,"column":0},"end":{"row":194,"column":10},"action":"remove","lines":["bookings()"],"id":3843}],[{"start":{"row":182,"column":0},"end":{"row":194,"column":0},"action":"remove","lines":["","def bookings():","     with connection.cursor(pymysql.cursors.DictCursor) as cursor:","          sql = \"\"\" SELECT BOOKINGS.BOOKING_ID, SERVICES.SERVICE_NAME, CUSTOMERS.CUSTOMER_NAME, ","          CUSTOMERS.CUSTOMER_EMAIL, CUSTOMERS.CUSTOMER_TELEPHONE,BOOKINGS.DATE, BOOKINGS.TIME FROM BOOKINGS ","          INNER JOIN CUSTOMERS ON BOOKINGS.CUSTOMER_ID = CUSTOMERS.CUSTOMER_ID","          INNER JOIN SERVICES ON BOOKINGS.SERVICE_ID = SERVICES.SERVICE_ID;\"\"\"","          cursor.execute(sql)","          result = cursor.fetchall()","          print(result)","     cursor.close()","     ",""],"id":3844}],[{"start":{"row":180,"column":11},"end":{"row":180,"column":32},"action":"remove","lines":[" # connection.close()"],"id":3850}],[{"start":{"row":146,"column":0},"end":{"row":146,"column":4},"action":"insert","lines":["    "],"id":3851}],[{"start":{"row":10,"column":33},"end":{"row":10,"column":39},"action":"remove","lines":["'root'"],"id":3853},{"start":{"row":10,"column":33},"end":{"row":10,"column":53},"action":"insert","lines":["os.environ.get('IP')"]}],[{"start":{"row":10,"column":49},"end":{"row":10,"column":51},"action":"remove","lines":["IP"],"id":3854},{"start":{"row":10,"column":49},"end":{"row":10,"column":50},"action":"insert","lines":["u"]},{"start":{"row":10,"column":50},"end":{"row":10,"column":51},"action":"insert","lines":["s"]},{"start":{"row":10,"column":51},"end":{"row":10,"column":52},"action":"insert","lines":["e"]},{"start":{"row":10,"column":52},"end":{"row":10,"column":53},"action":"insert","lines":["r"]}],[{"start":{"row":11,"column":37},"end":{"row":11,"column":47},"action":"remove","lines":["'root1234'"],"id":3855},{"start":{"row":11,"column":37},"end":{"row":11,"column":57},"action":"insert","lines":["os.environ.get('IP')"]}],[{"start":{"row":11,"column":53},"end":{"row":11,"column":55},"action":"remove","lines":["IP"],"id":3856},{"start":{"row":11,"column":53},"end":{"row":11,"column":54},"action":"insert","lines":["p"]},{"start":{"row":11,"column":54},"end":{"row":11,"column":55},"action":"insert","lines":["a"]}],[{"start":{"row":11,"column":55},"end":{"row":11,"column":56},"action":"insert","lines":["s"],"id":3857},{"start":{"row":11,"column":56},"end":{"row":11,"column":57},"action":"insert","lines":["s"]}],[{"start":{"row":89,"column":31},"end":{"row":89,"column":40},"action":"remove","lines":["Root12345"],"id":3858},{"start":{"row":89,"column":31},"end":{"row":89,"column":51},"action":"insert","lines":["os.environ.get('IP')"]}],[{"start":{"row":88,"column":31},"end":{"row":88,"column":54},"action":"remove","lines":["baywashstudio@gmail.com"],"id":3859},{"start":{"row":88,"column":31},"end":{"row":88,"column":51},"action":"insert","lines":["os.environ.get('IP')"]}],[{"start":{"row":88,"column":51},"end":{"row":88,"column":52},"action":"remove","lines":["'"],"id":3860}],[{"start":{"row":88,"column":30},"end":{"row":88,"column":31},"action":"remove","lines":["'"],"id":3861}],[{"start":{"row":88,"column":46},"end":{"row":88,"column":48},"action":"remove","lines":["IP"],"id":3863},{"start":{"row":88,"column":46},"end":{"row":88,"column":63},"action":"insert","lines":["['MAIL_USERNAME']"]}],[{"start":{"row":88,"column":45},"end":{"row":88,"column":46},"action":"remove","lines":["'"],"id":3864},{"start":{"row":88,"column":44},"end":{"row":88,"column":45},"action":"remove","lines":["("]}],[{"start":{"row":88,"column":44},"end":{"row":88,"column":45},"action":"remove","lines":["["],"id":3866}],[{"start":{"row":88,"column":44},"end":{"row":88,"column":45},"action":"insert","lines":["("],"id":3867}],[{"start":{"row":88,"column":60},"end":{"row":88,"column":61},"action":"remove","lines":["]"],"id":3868}],[{"start":{"row":88,"column":60},"end":{"row":88,"column":61},"action":"remove","lines":["'"],"id":3869}],[{"start":{"row":89,"column":47},"end":{"row":89,"column":49},"action":"remove","lines":["IP"],"id":3870},{"start":{"row":89,"column":47},"end":{"row":89,"column":60},"action":"insert","lines":["MAIL_PASSWORD"]}],[{"start":{"row":89,"column":62},"end":{"row":89,"column":63},"action":"remove","lines":["'"],"id":3871}],[{"start":{"row":89,"column":30},"end":{"row":89,"column":31},"action":"remove","lines":["'"],"id":3872}],[{"start":{"row":92,"column":37},"end":{"row":92,"column":61},"action":"remove","lines":["baywashstudio@gmail.com'"],"id":3873},{"start":{"row":92,"column":36},"end":{"row":92,"column":37},"action":"remove","lines":["'"]}],[{"start":{"row":92,"column":36},"end":{"row":92,"column":67},"action":"insert","lines":["os.environ.get('MAIL_USERNAME')"],"id":3874}],[{"start":{"row":122,"column":28},"end":{"row":122,"column":29},"action":"remove","lines":["."],"id":3875}],[{"start":{"row":122,"column":54},"end":{"row":122,"column":55},"action":"insert","lines":[":"],"id":3876}],[{"start":{"row":122,"column":58},"end":{"row":122,"column":74},"action":"insert","lines":["Your appointment"],"id":3877}],[{"start":{"row":122,"column":63},"end":{"row":122,"column":74},"action":"remove","lines":["appointment"],"id":3878},{"start":{"row":122,"column":63},"end":{"row":122,"column":64},"action":"insert","lines":["T"]},{"start":{"row":122,"column":64},"end":{"row":122,"column":65},"action":"insert","lines":["i"]},{"start":{"row":122,"column":65},"end":{"row":122,"column":66},"action":"insert","lines":["m"]},{"start":{"row":122,"column":66},"end":{"row":122,"column":67},"action":"insert","lines":["e"]}],[{"start":{"row":122,"column":69},"end":{"row":122,"column":70},"action":"remove","lines":["t"],"id":3879},{"start":{"row":122,"column":68},"end":{"row":122,"column":69},"action":"remove","lines":["a"]}],[{"start":{"row":122,"column":68},"end":{"row":122,"column":69},"action":"insert","lines":["i"],"id":3880},{"start":{"row":122,"column":69},"end":{"row":122,"column":70},"action":"insert","lines":["s"]}],[{"start":{"row":122,"column":58},"end":{"row":122,"column":59},"action":"insert","lines":["."],"id":3881}],[{"start":{"row":122,"column":59},"end":{"row":122,"column":63},"action":"insert","lines":["\\n\\n"],"id":3882}],[{"start":{"row":122,"column":14},"end":{"row":122,"column":15},"action":"insert","lines":["<"],"id":3883}],[{"start":{"row":122,"column":14},"end":{"row":122,"column":15},"action":"remove","lines":["<"],"id":3884}],[{"start":{"row":122,"column":14},"end":{"row":122,"column":15},"action":"insert","lines":["\""],"id":3885},{"start":{"row":122,"column":15},"end":{"row":122,"column":16},"action":"insert","lines":["\""]}],[{"start":{"row":122,"column":82},"end":{"row":122,"column":83},"action":"insert","lines":["\""],"id":3886},{"start":{"row":122,"column":83},"end":{"row":122,"column":84},"action":"insert","lines":["\""]}],[{"start":{"row":122,"column":16},"end":{"row":122,"column":17},"action":"insert","lines":["<"],"id":3887},{"start":{"row":122,"column":17},"end":{"row":122,"column":18},"action":"insert","lines":["/"]},{"start":{"row":122,"column":18},"end":{"row":122,"column":19},"action":"insert","lines":["."]}],[{"start":{"row":122,"column":18},"end":{"row":122,"column":19},"action":"remove","lines":["."],"id":3888}],[{"start":{"row":122,"column":18},"end":{"row":122,"column":19},"action":"insert","lines":["b"],"id":3889},{"start":{"row":122,"column":19},"end":{"row":122,"column":20},"action":"insert","lines":[">"]}],[{"start":{"row":122,"column":34},"end":{"row":122,"column":35},"action":"insert","lines":["<"],"id":3890},{"start":{"row":122,"column":35},"end":{"row":122,"column":36},"action":"insert","lines":["/"]},{"start":{"row":122,"column":36},"end":{"row":122,"column":37},"action":"insert","lines":["b"]},{"start":{"row":122,"column":37},"end":{"row":122,"column":38},"action":"insert","lines":[">"]}],[{"start":{"row":122,"column":17},"end":{"row":122,"column":18},"action":"remove","lines":["/"],"id":3891}],[{"start":{"row":122,"column":16},"end":{"row":122,"column":17},"action":"insert","lines":["<"],"id":3892},{"start":{"row":122,"column":17},"end":{"row":122,"column":18},"action":"insert","lines":["p"]},{"start":{"row":122,"column":18},"end":{"row":122,"column":19},"action":"insert","lines":[">"]}],[{"start":{"row":122,"column":40},"end":{"row":122,"column":41},"action":"insert","lines":["<"],"id":3893},{"start":{"row":122,"column":41},"end":{"row":122,"column":42},"action":"insert","lines":["p"]}],[{"start":{"row":122,"column":41},"end":{"row":122,"column":42},"action":"insert","lines":["/"],"id":3894}],[{"start":{"row":122,"column":43},"end":{"row":122,"column":44},"action":"insert","lines":[">"],"id":3895}],[{"start":{"row":122,"column":47},"end":{"row":122,"column":48},"action":"remove","lines":["n"],"id":3897},{"start":{"row":122,"column":46},"end":{"row":122,"column":47},"action":"remove","lines":["\\"]},{"start":{"row":122,"column":45},"end":{"row":122,"column":46},"action":"remove","lines":["n"]},{"start":{"row":122,"column":44},"end":{"row":122,"column":45},"action":"remove","lines":["\\"]}],[{"start":{"row":122,"column":44},"end":{"row":122,"column":45},"action":"insert","lines":["<"],"id":3898},{"start":{"row":122,"column":45},"end":{"row":122,"column":46},"action":"insert","lines":["p"]},{"start":{"row":122,"column":46},"end":{"row":122,"column":47},"action":"insert","lines":[">"]}],[{"start":{"row":122,"column":77},"end":{"row":122,"column":78},"action":"remove","lines":["n"],"id":3899},{"start":{"row":122,"column":76},"end":{"row":122,"column":77},"action":"remove","lines":["\\"]},{"start":{"row":122,"column":75},"end":{"row":122,"column":76},"action":"remove","lines":["n"]},{"start":{"row":122,"column":74},"end":{"row":122,"column":75},"action":"remove","lines":["\\"]}],[{"start":{"row":122,"column":74},"end":{"row":122,"column":75},"action":"insert","lines":["<"],"id":3900},{"start":{"row":122,"column":75},"end":{"row":122,"column":76},"action":"insert","lines":["/"]}],[{"start":{"row":122,"column":76},"end":{"row":122,"column":77},"action":"insert","lines":["p"],"id":3901},{"start":{"row":122,"column":77},"end":{"row":122,"column":78},"action":"insert","lines":[">"]}],[{"start":{"row":122,"column":78},"end":{"row":122,"column":79},"action":"insert","lines":[" "],"id":3902},{"start":{"row":122,"column":79},"end":{"row":122,"column":80},"action":"insert","lines":["<"]},{"start":{"row":122,"column":80},"end":{"row":122,"column":81},"action":"insert","lines":["p"]},{"start":{"row":122,"column":81},"end":{"row":122,"column":82},"action":"insert","lines":[">"]}],[{"start":{"row":122,"column":101},"end":{"row":122,"column":102},"action":"remove","lines":[" "],"id":3905}],[{"start":{"row":122,"column":98},"end":{"row":122,"column":99},"action":"insert","lines":["<"],"id":3906},{"start":{"row":122,"column":99},"end":{"row":122,"column":100},"action":"insert","lines":["/"]}],[{"start":{"row":122,"column":100},"end":{"row":122,"column":101},"action":"insert","lines":["p"],"id":3907},{"start":{"row":122,"column":101},"end":{"row":122,"column":102},"action":"insert","lines":[">"]}],[{"start":{"row":122,"column":8},"end":{"row":122,"column":12},"action":"remove","lines":["body"],"id":3908},{"start":{"row":122,"column":8},"end":{"row":122,"column":9},"action":"insert","lines":["h"]},{"start":{"row":122,"column":9},"end":{"row":122,"column":10},"action":"insert","lines":["t"]},{"start":{"row":122,"column":10},"end":{"row":122,"column":11},"action":"insert","lines":["m"]},{"start":{"row":122,"column":11},"end":{"row":122,"column":12},"action":"insert","lines":["l"]}],[{"start":{"row":122,"column":94},"end":{"row":122,"column":95},"action":"insert","lines":[":"],"id":3909}],[{"start":{"row":122,"column":71},"end":{"row":122,"column":72},"action":"insert","lines":["<"],"id":3910},{"start":{"row":122,"column":72},"end":{"row":122,"column":73},"action":"insert","lines":["b"]},{"start":{"row":122,"column":73},"end":{"row":122,"column":74},"action":"insert","lines":[">"]}],[{"start":{"row":122,"column":74},"end":{"row":122,"column":75},"action":"insert","lines":["<"],"id":3911},{"start":{"row":122,"column":75},"end":{"row":122,"column":76},"action":"insert","lines":["i"]},{"start":{"row":122,"column":76},"end":{"row":122,"column":77},"action":"insert","lines":[">"]}],[{"start":{"row":122,"column":79},"end":{"row":122,"column":80},"action":"insert","lines":["<"],"id":3912},{"start":{"row":122,"column":80},"end":{"row":122,"column":81},"action":"insert","lines":["/"]},{"start":{"row":122,"column":81},"end":{"row":122,"column":82},"action":"insert","lines":["b"]}],[{"start":{"row":122,"column":82},"end":{"row":122,"column":83},"action":"insert","lines":[">"],"id":3913},{"start":{"row":122,"column":83},"end":{"row":122,"column":84},"action":"insert","lines":["<"]}],[{"start":{"row":122,"column":83},"end":{"row":122,"column":84},"action":"remove","lines":["<"],"id":3914}],[{"start":{"row":122,"column":79},"end":{"row":122,"column":80},"action":"insert","lines":["<"],"id":3915},{"start":{"row":122,"column":80},"end":{"row":122,"column":81},"action":"insert","lines":["/"]},{"start":{"row":122,"column":81},"end":{"row":122,"column":82},"action":"insert","lines":[">"]}],[{"start":{"row":122,"column":81},"end":{"row":122,"column":82},"action":"remove","lines":[">"],"id":3916},{"start":{"row":122,"column":80},"end":{"row":122,"column":81},"action":"remove","lines":["/"]}],[{"start":{"row":122,"column":80},"end":{"row":122,"column":81},"action":"insert","lines":["/"],"id":3917},{"start":{"row":122,"column":81},"end":{"row":122,"column":82},"action":"insert","lines":["i"]},{"start":{"row":122,"column":82},"end":{"row":122,"column":83},"action":"insert","lines":[">"]}],[{"start":{"row":122,"column":109},"end":{"row":122,"column":112},"action":"remove","lines":[" {}"],"id":3918},{"start":{"row":122,"column":109},"end":{"row":122,"column":125},"action":"insert","lines":["<b><i>{}</i></b>"]}],[{"start":{"row":122,"column":21},"end":{"row":122,"column":22},"action":"insert","lines":[" "],"id":3919},{"start":{"row":122,"column":22},"end":{"row":122,"column":23},"action":"insert","lines":["c"]},{"start":{"row":122,"column":23},"end":{"row":122,"column":24},"action":"insert","lines":["l"]},{"start":{"row":122,"column":24},"end":{"row":122,"column":25},"action":"insert","lines":["a"]},{"start":{"row":122,"column":25},"end":{"row":122,"column":26},"action":"insert","lines":["s"]},{"start":{"row":122,"column":26},"end":{"row":122,"column":27},"action":"insert","lines":["s"]}],[{"start":{"row":122,"column":26},"end":{"row":122,"column":27},"action":"remove","lines":["s"],"id":3920},{"start":{"row":122,"column":25},"end":{"row":122,"column":26},"action":"remove","lines":["s"]},{"start":{"row":122,"column":24},"end":{"row":122,"column":25},"action":"remove","lines":["a"]},{"start":{"row":122,"column":23},"end":{"row":122,"column":24},"action":"remove","lines":["l"]},{"start":{"row":122,"column":22},"end":{"row":122,"column":23},"action":"remove","lines":["c"]}],[{"start":{"row":122,"column":22},"end":{"row":122,"column":23},"action":"insert","lines":["s"],"id":3921},{"start":{"row":122,"column":23},"end":{"row":122,"column":24},"action":"insert","lines":["t"]},{"start":{"row":122,"column":24},"end":{"row":122,"column":25},"action":"insert","lines":["y"]},{"start":{"row":122,"column":25},"end":{"row":122,"column":26},"action":"insert","lines":["l"]},{"start":{"row":122,"column":26},"end":{"row":122,"column":27},"action":"insert","lines":["e"]}],[{"start":{"row":122,"column":27},"end":{"row":122,"column":28},"action":"insert","lines":["-"],"id":3922}],[{"start":{"row":122,"column":27},"end":{"row":122,"column":28},"action":"remove","lines":["-"],"id":3923}],[{"start":{"row":122,"column":27},"end":{"row":122,"column":28},"action":"insert","lines":["="],"id":3924}],[{"start":{"row":122,"column":28},"end":{"row":123,"column":0},"action":"insert","lines":["",""],"id":3925},{"start":{"row":123,"column":0},"end":{"row":123,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":123,"column":0},"end":{"row":123,"column":4},"action":"remove","lines":["    "],"id":3926},{"start":{"row":122,"column":28},"end":{"row":123,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":122,"column":28},"end":{"row":122,"column":29},"action":"insert","lines":["\""],"id":3927}],[{"start":{"row":122,"column":29},"end":{"row":122,"column":30},"action":"insert","lines":["c"],"id":3928},{"start":{"row":122,"column":30},"end":{"row":122,"column":31},"action":"insert","lines":["o"]},{"start":{"row":122,"column":31},"end":{"row":122,"column":32},"action":"insert","lines":["l"]},{"start":{"row":122,"column":32},"end":{"row":122,"column":33},"action":"insert","lines":["o"]},{"start":{"row":122,"column":33},"end":{"row":122,"column":34},"action":"insert","lines":["r"]},{"start":{"row":122,"column":34},"end":{"row":122,"column":35},"action":"insert","lines":[":"]}],[{"start":{"row":122,"column":35},"end":{"row":122,"column":36},"action":"insert","lines":["g"],"id":3929},{"start":{"row":122,"column":36},"end":{"row":122,"column":37},"action":"insert","lines":["o"]},{"start":{"row":122,"column":37},"end":{"row":122,"column":38},"action":"insert","lines":["l"]},{"start":{"row":122,"column":38},"end":{"row":122,"column":39},"action":"insert","lines":["r"]}],[{"start":{"row":122,"column":38},"end":{"row":122,"column":39},"action":"remove","lines":["r"],"id":3930}],[{"start":{"row":122,"column":38},"end":{"row":122,"column":39},"action":"insert","lines":["d"],"id":3931}],[{"start":{"row":122,"column":39},"end":{"row":122,"column":40},"action":"insert","lines":["\""],"id":3932}],[{"start":{"row":190,"column":13},"end":{"row":190,"column":14},"action":"insert","lines":["F"],"id":3938}],[{"start":{"row":190,"column":13},"end":{"row":190,"column":14},"action":"remove","lines":["F"],"id":3939},{"start":{"row":190,"column":12},"end":{"row":190,"column":13},"action":"remove","lines":["u"]},{"start":{"row":190,"column":11},"end":{"row":190,"column":12},"action":"remove","lines":["r"]}],[{"start":{"row":190,"column":11},"end":{"row":190,"column":12},"action":"remove","lines":["e"],"id":3940}],[{"start":{"row":190,"column":10},"end":{"row":190,"column":11},"action":"remove","lines":["T"],"id":3941}],[{"start":{"row":190,"column":10},"end":{"row":190,"column":11},"action":"insert","lines":["f"],"id":3942}],[{"start":{"row":190,"column":10},"end":{"row":190,"column":11},"action":"remove","lines":["f"],"id":3943}],[{"start":{"row":190,"column":10},"end":{"row":190,"column":11},"action":"insert","lines":["F"],"id":3944},{"start":{"row":190,"column":11},"end":{"row":190,"column":12},"action":"insert","lines":["a"]},{"start":{"row":190,"column":12},"end":{"row":190,"column":13},"action":"insert","lines":["l"]}],[{"start":{"row":190,"column":10},"end":{"row":190,"column":13},"action":"remove","lines":["Fal"],"id":3945},{"start":{"row":190,"column":10},"end":{"row":190,"column":15},"action":"insert","lines":["False"]}],[{"start":{"row":122,"column":16},"end":{"row":122,"column":34},"action":"insert","lines":["<img src=\"cid:%s\">"],"id":3946}]]},"ace":{"folds":[],"scrolltop":1418.39990234375,"scrollleft":0,"selection":{"start":{"row":122,"column":34},"end":{"row":122,"column":34},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":86,"state":"start","mode":"ace/mode/python"}},"timestamp":1569289707727}